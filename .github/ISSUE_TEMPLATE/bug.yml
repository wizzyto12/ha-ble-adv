---
name: "Bug report"
description: "Report a bug on an existing feature of a created integration."
labels: ["bug"]
body:
- type: markdown
  attributes:
    value:  |
      If your integration is NOT created successfully, then you should open a [Config Flow Discovery Issue](https://github.com/NicoIIT/ha-ble-adv/issues/new?template=discovery.yml) instead.

      > [!CAUTION]
      > As a remainder you are asking for help that the maintainer will happily provide if:
      > * you already carefully checked the doc and have not found the answer to your issue
      > * your issue contains the requested info needed by the maintainer to be able to investigate it.
      >
      > If it is not the case the issue will be **immediately closed** referring to one of the [rejection reasons](https://github.com/NicoIIT/ha-ble-adv/wiki/Why-was-my-issue-rejected%3F).

- type: textarea
  attributes:
    label: "Describe the issue"
    description: "A clear and concise description of what the issue is. 'It does not work' is not a valid description. Do not hesitate to add screenshots of the errors you are facing."
  validations:
    required: true

- type: textarea
  attributes:
    label: Describe your physical setup
    description: "Describe your setup by completing what follows (Please note some of the values MUST follow the recommended values in the Troubleshooting Guide)."
    value: |
      - Distance between the controller (Phone or Remote) and the Bluetooth Adapter: XX meters in direct view (no wall)
      - Distance between the controller and the Device: XX meters in direct view (no wall)
      - Distance between the Device and the Bluetooth Adapter: XX meters with a 30cm concrete wall in between
  validations:
    required: true

- type: textarea
  attributes:
    label: Reproduction steps
    description: "Without steps to reproduce, it will be hard to understand and even harder to fix. Please specify the EXACT time (with 'second' precision) at which you performed a specific action so that we can correlate with the time in the debug logs. The description of the action must also be very clear as in the example below, in particular on which device / controller you perform which action."
    value: |
      1. At 15:32:51 I pressed on the "Light On" button of my Physical Remote linked to ble_adv_split integration 'My Controller name'
      2. At 15:33:10 I changed the light from Cold to Warm using HA UI but the device went from Warm to Cold instead
      3.
      ...
  validations:
    required: true

- type: textarea
  attributes:
    label: "Debug logs"
    description: |
      To enable debug logs please check the [Configuration Guide](https://github.com/NicoIIT/ha-ble-adv/wiki/Configuration-Guide#global-options).
      To know how to access those logs please check Home Assistant doc.
  validations:
    required: true

- type: textarea
  attributes:
    label: "Diagnostics dump"
    description: |
      Drag the integration [diagnostic dump](https://www.home-assistant.io/integrations/diagnostics/) file here.
  validations:
    required: true

- type: checkboxes
  attributes:
    label: Checklist
    options:
      - label: I checked the [troubleshooting guide](https://github.com/NicoIIT/ha-ble-adv/wiki/Troubleshooting-Guide) and the [configuration guide](https://github.com/NicoIIT/ha-ble-adv/wiki/Configuration-Guide) and it did not solve my issue
        required: true
      - label: I provided ALL mandatory info and in the requested format because I know that in the countrary the maintainer will not help.
        required: true
      - label: This issue only contains 1 issue (if you have multiple issues, open one issue for each issue).
        required: true
      - label: This issue is not a duplicate issue of any [previous issues](https://github.com/NicoIIT/ha-ble-adv/issues?q=is%3Aissue%20state%3Aopen%20label%3Abug).
        required: true
